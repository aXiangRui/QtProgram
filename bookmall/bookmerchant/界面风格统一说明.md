# BookMerchant 界面风格统一说明

## 修改概述

已将BookMerchant的界面风格完全统一到Purchaser1的标准，使用相同的颜色方案、布局样式和UI元素设计。同时大幅减少边框距离，采用紧凑布局。

## 主要修改内容

### 1. 颜色方案统一

#### 定义的标准颜色
```cpp
const QColor PRIMARY_COLOR(41, 128, 185);      // 主蓝色 #2980b9
const QColor SECONDARY_COLOR(52, 152, 219);    // 次要蓝色 #3498db
const QColor ACCENT_COLOR(46, 204, 113);        // 强调绿色 #2ecc71
const QColor WARNING_COLOR(231, 76, 60);       // 警告红色 #e74c3c
const QColor BG_COLOR(245, 247, 250);           // 背景色 #f5f7fa
const QColor TEXT_COLOR(44, 62, 80);           // 文本色 #2c3e50
const QColor BORDER_COLOR(225, 232, 237);      // 边框色 #e1e8ed
```

#### 颜色应用
- **主蓝色**：按钮背景、选中项背景、滚动条
- **次要蓝色**：渐变效果、悬停状态
- **背景色**：主窗口、页面容器
- **文本色**：所有文字
- **边框色**：输入框、表格、分组框边框

### 2. UI组件样式统一

#### 输入框 (QLineEdit)
```css
- 圆角：10px
- 边框：2px solid #e1e8ed
- 内边距：12px 20px
- 字体大小：15px
- 背景色：#f8fafc
- 焦点时边框色：#2980b9
- 焦点时背景色：白色
```

#### 按钮 (QPushButton)
```css
- 圆角：10px
- 背景：蓝色渐变（从主蓝到次要蓝）
- 内边距：12px 24px
- 字体大小：16px
- 字体粗细：bold
- 无边框
- 悬停/按下时颜色加深
```

#### 表格 (QTableWidget)
```css
- 圆角：8px
- 边框：1px solid #e1e8ed
- 单元格内边距：8px
- 表头背景：#f8f9fa
- 表头字体：bold, 14px
- 选中行背景：主蓝色
- 选中行文字：白色
```

#### 文本编辑框 (QTextEdit)
```css
- 圆角：8px
- 边框：2px solid #e1e8ed
- 内边距：10px
- 背景：白色
- 字体大小：14px
```

#### 组合框 (QComboBox)
```css
- 圆角：10px
- 边框：2px solid #e1e8ed
- 内边距：10px 20px
- 背景：#f8fafc
- 字体大小：14px
```

#### 数字输入框 (QSpinBox, QDoubleSpinBox)
```css
- 圆角：8px
- 边框：2px solid #e1e8ed
- 内边距：8px
- 背景：#f8fafc
- 字体大小：14px
```

#### 日期选择器 (QDateEdit)
```css
- 圆角：8px
- 边框：2px solid #e1e8ed
- 内边距：8px
- 背景：#f8fafc
- 字体大小：14px
```

#### 分组框 (QGroupBox)
```css
- 圆角：10px
- 边框：2px solid #e1e8ed
- 顶部外边距：10px
- 顶部内边距：15px
- 字体大小：16px
- 字体粗细：bold
```

#### 滚动条 (QScrollBar)
```css
垂直滚动条：
- 宽度：12px
- 圆角：6px
- 背景：#f1f1f1
- 滑块：主蓝色
- 滑块最小高度：30px

水平滚动条：
- 高度：12px
- 圆角：6px
- 背景：#f1f1f1
- 滑块：主蓝色
- 滑块最小宽度：30px
```

### 3. 布局优化（减少边框距离）

#### 修改前的边距设置
```cpp
// 使用默认边距（通常为11px）
QVBoxLayout *layout = new QVBoxLayout(widget);
```

#### 修改后的边距设置
```cpp
// 所有页面统一使用紧凑布局
QVBoxLayout *layout = new QVBoxLayout(widget);
layout->setContentsMargins(15, 15, 15, 15);  // 左上右下：15px
layout->setSpacing(10);  // 控件间距：10px
```

#### 应用的页面
- ✅ 主页面 (mainPage)
- ✅ 图书管理页面 (booksPage)
- ✅ 订单管理页面 (ordersPage)
- ✅ 会员管理页面 (membersPage)
- ✅ 统计报表页面 (statsPage)

### 4. 登录页面特殊样式

#### 渐变背景
```cpp
background: qlineargradient(x1:0, y1:0, x2:1, y2:1,
    stop:0 #2980b9,  // 主蓝色
    stop:1 #3498db); // 次要蓝色
```

#### 登录框样式
```css
QGroupBox {
    background-color: rgba(255, 255, 255, 0.95);  // 半透明白色
    border: none;
    border-radius: 15px;
    padding: 30px;
}
```

### 5. 标题样式统一

#### 修改前
```cpp
QLabel *title = new QLabel("图书管理");
title->setStyleSheet("font-size: 18px; font-weight: bold;");
```

#### 修改后
```cpp
QLabel *title = new QLabel("图书管理");
title->setStyleSheet("font-size: 20px; font-weight: bold; padding: 10px;");
```

**变化**：
- 字体大小：18px → 20px
- 添加内边距：10px

### 6. 欢迎标签优化

#### 修改前
```cpp
welcomeLabel->setStyleSheet("font-size: 24px; font-weight: bold; margin: 20px;");
```

#### 修改后
```cpp
welcomeLabel->setStyleSheet("font-size: 24px; font-weight: bold; padding: 15px;");
```

**变化**：
- margin改为padding
- 大小：20px → 15px

## 布局对比

### 修改前的页面边距
```
┌─────────────────────────────────────┐
│        (默认边距 ~11px)             │
│  ┌──────────────────────────────┐  │
│  │                              │  │
│  │      页面内容区域            │  │
│  │                              │  │
│  └──────────────────────────────┘  │
│        (默认边距 ~11px)             │
└─────────────────────────────────────┘
```

### 修改后的页面边距
```
┌─────────────────────────────────────┐
│    (紧凑边距 15px)                  │
│ ┌────────────────────────────────┐ │
│ │                                │ │
│ │      页面内容区域              │ │
│ │                                │ │
│ └────────────────────────────────┘ │
│    (紧凑边距 15px)                  │
└─────────────────────────────────────┘
```

**改进**：
- 边距统一为15px
- 控件间距统一为10px
- 页面更紧凑，信息密度更高
- 有效利用屏幕空间

## 与Purchaser1的一致性检查

### 颜色方案 ✅
- [x] PRIMARY_COLOR (41, 128, 185)
- [x] SECONDARY_COLOR (52, 152, 219)
- [x] BG_COLOR (245, 247, 250)
- [x] TEXT_COLOR (44, 62, 80)
- [x] BORDER_COLOR (225, 232, 237)

### UI组件样式 ✅
- [x] 输入框圆角10px、内边距12px 20px
- [x] 按钮渐变背景、圆角10px
- [x] 表格圆角8px、选中项蓝色背景
- [x] 文本框圆角8px
- [x] 组合框圆角10px
- [x] 分组框圆角10px、边框2px

### 布局设置 ✅
- [x] 页面边距15px
- [x] 控件间距10px
- [x] 标题字体20px bold
- [x] 紧凑布局

### 特殊效果 ✅
- [x] 登录页面渐变背景
- [x] 登录框半透明白色背景
- [x] 焦点时边框颜色变化
- [x] 悬停和按下效果

## 视觉效果对比

### 修改前
- ✗ 绿色按钮（#4CAF50）
- ✗ 简单的边框
- ✗ 较大的边距
- ✗ 朴素的白色背景
- ✗ 基础的表格样式

### 修改后
- ✓ 蓝色渐变按钮
- ✓ 圆角设计（10px/8px）
- ✓ 紧凑的边距（15px/10px）
- ✓ 淡蓝色背景（#f5f7fa）
- ✓ 现代化的表格样式
- ✓ 登录页面渐变背景
- ✓ 统一的字体（Microsoft YaHei）
- ✓ 焦点/悬停交互效果

## 技术实现细节

### 1. 样式字符串格式化
```cpp
QString styleSheet = QString(R"(...)")
    .arg(BG_COLOR.name())              // %1
    .arg(BORDER_COLOR.name())          // %2
    .arg(TEXT_COLOR.name())            // %3
    .arg(PRIMARY_COLOR.name())         // %4
    .arg(SECONDARY_COLOR.name())       // %5
    .arg(PRIMARY_COLOR.darker(120).name())   // %6 悬停
    .arg(SECONDARY_COLOR.darker(120).name()) // %7 悬停
    .arg(PRIMARY_COLOR.darker(130).name())   // %8 按下
    .arg(SECONDARY_COLOR.darker(130).name());// %9 按下
```

### 2. 渐变效果实现
```cpp
// 按钮渐变（水平方向）
background: qlineargradient(x1:0, y1:0, x2:1, y2:0,
    stop:0 #2980b9,
    stop:1 #3498db);

// 登录页面渐变（对角线方向）
background: qlineargradient(x1:0, y1:0, x2:1, y2:1,
    stop:0 #2980b9,
    stop:1 #3498db);
```

### 3. 半透明效果
```cpp
background-color: rgba(255, 255, 255, 0.95);
// R=255, G=255, B=255, Alpha=0.95 (95%不透明度)
```

### 4. 焦点样式切换
```cpp
QLineEdit {
    background: #f8fafc;
    border-color: #e1e8ed;
}

QLineEdit:focus {
    background: white;        // 焦点时背景变白
    border-color: #2980b9;    // 焦点时边框变蓝
}
```

## 用户体验改进

### 1. 视觉层次更清晰
- 主按钮：蓝色渐变，醒目
- 输入框：淡灰背景，焦点时变白
- 选中项：蓝色高亮

### 2. 交互反馈更明显
- 按钮悬停：颜色加深
- 按钮按下：颜色更深
- 输入框焦点：边框变蓝
- 滚动条悬停：颜色变化

### 3. 空间利用更高效
- 边距从默认~11px减少到15px
- 控件间距统一为10px
- 页面可显示更多内容

### 4. 风格更现代化
- 圆角设计
- 渐变效果
- 半透明元素
- 阴影效果（表格、按钮）

## 编译和测试

### 重新编译
```bash
cd D:\qt\bookmerchant
qmake bookmerchant.pro
make clean
make
```

### 测试要点
1. **登录页面**
   - 检查渐变背景
   - 检查登录框半透明效果
   - 测试输入框焦点效果

2. **主页面**
   - 检查导航按钮样式
   - 检查欢迎标签显示
   - 测试按钮悬停/按下效果

3. **图书管理页面**
   - 检查表格样式
   - 检查按钮间距
   - 测试行选中效果

4. **各种输入控件**
   - 文本输入框
   - 组合框
   - 数字输入框
   - 日期选择器

5. **滚动效果**
   - 表格滚动条
   - 文本框滚动条
   - 悬停效果

## 前后对比总结

| 项目 | 修改前 | 修改后 |
|------|--------|--------|
| **主色调** | 绿色 | 蓝色 |
| **按钮样式** | 纯色 | 渐变 |
| **圆角** | 4px | 10px/8px |
| **页面边距** | ~11px | 15px |
| **控件间距** | 默认 | 10px |
| **背景色** | 白色 | 淡蓝灰 |
| **登录页** | 白色 | 蓝色渐变 |
| **字体** | 默认 | Microsoft YaHei |
| **焦点效果** | 无 | 边框变蓝 |
| **悬停效果** | 简单 | 渐变加深 |

## 总结

✅ **界面风格已完全统一到Purchaser1标准**

**改进点**：
1. ✓ 统一使用蓝色系配色方案
2. ✓ 所有UI组件采用相同圆角和边框样式
3. ✓ 大幅减少边框距离（15px/10px）
4. ✓ 添加渐变和交互效果
5. ✓ 优化空间利用率
6. ✓ 提升整体视觉效果

**结果**：
- 界面更现代化
- 布局更紧凑
- 操作更流畅
- 与Purchaser1完全一致

**现在BookMerchant和Purchaser1使用完全相同的视觉风格和布局标准！**

